<polymer-element name="music-catalog">
    <template>

        <style>
        :host {
            display: block;
        }
        .card {
            display: block;
            margin: 0 0 8px 0;
            padding: 24px;
            -webkit-border-radius: 2px;
            border-radius: 2px;
            background-color: #fff;
            -webkit-box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .1);
            box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .1);
        }
        @media(min-width:641px) {
            .card {
                margin: 8px;
            }
        }
        .card-header {
            font-size: 1.3em;
            color: #263238;
        }
        </style>

        <div id="catalog"></div>

    </template>

    <script>
    Polymer('music-catalog', {
        ready: function() {
            'use strict';

            var polymer = this;

            /**
             * Gets all sheets from the catalog.
             * @param {string} File to load
             * @return {objet} All sheets from the catalog
             */
            $.ajax({
                type: 'GET',
                url: '/catalog',
                dataType: 'json',
                success: function(sheets) {
                    var items = [];

                    for (var key in sheets) {
                        items.push('<div class="card"><div class="card-header">' + sheets[key].title + '</div><p>Par ' + sheets[key].author.username + '</p><p>' + sheets[key].description + '</p></div>');
                    }

                    $('<div>', {
                        html: items.join('')
                    }).appendTo(polymer.shadowRoot.querySelector('#catalog'));
                },
                error: function(err) {
                    console.log('An error has occured');
                }
            });
        }
    });
    </script>
</polymer-element>
